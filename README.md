# Werewolf Game App (äººç‹¼ã‚²ãƒ¼ãƒ )

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18.3.1-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7.2-blue.svg)](https://www.typescriptlang.org/)
[![MongoDB](https://img.shields.io/badge/MongoDB-8.9.2-green.svg)](https://www.mongodb.com/)
[![Docker](https://img.shields.io/badge/Docker-3.8+-blue.svg)](https://www.docker.com/)

äººç‹¼ã‚²ãƒ¼ãƒ ï¼ˆWerewolfï¼‰ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆã€WebSocketé€šä¿¡ã€è¤‡æ•°ã®å½¹è·ã‚’å‚™ãˆãŸæœ¬æ ¼çš„ãªäººç‹¼ã‚²ãƒ¼ãƒ ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ® ã‚²ãƒ¼ãƒ æ¦‚è¦

### åŸºæœ¬ãƒ«ãƒ¼ãƒ«

- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°**: 5-20äºº
- **ã‚²ãƒ¼ãƒ æ™‚é–“**: ç´„15-30åˆ†
- **å‹åˆ©æ¡ä»¶**:
  - æ‘äººãƒãƒ¼ãƒ : äººç‹¼ã‚’å…¨ã¦å‡¦åˆ‘ã™ã‚‹
  - äººç‹¼ãƒãƒ¼ãƒ : æ‘äººã®æ•°ã‚’äººç‹¼ä»¥ä¸‹ã«ã™ã‚‹
  - ç‹ãƒãƒ¼ãƒ : ç‰¹å®šã®æ¡ä»¶ä¸‹ã§å‹åˆ©

### å½¹è·ä¸€è¦§

| å½¹è·   | é™£å–¶ | èƒ½åŠ› | èª¬æ˜                            |
| ------ | ---- | ---- | ------------------------------- |
| æ‘äºº   | æ‘äºº | ãªã— | æŠ•ç¥¨ã§äººç‹¼ã‚’è¦‹ã¤ã‘å‡ºã™          |
| å ã„å¸« | æ‘äºº | å ã„ | å¤œã«1äººã‚’é¸ã‚“ã§äººç‹¼ã‹ã©ã†ã‹åˆ¤å®š |
| éœŠèƒ½è€… | æ‘äºº | éœŠèƒ½ | å‡¦åˆ‘ã•ã‚ŒãŸäººã®é™£å–¶ã‚’ç¢ºèª        |
| ç‹©äºº   | æ‘äºº | è­·è¡› | å¤œã«1äººã‚’è­·è¡›ã—ã¦è¥²æ’ƒã‚’é˜²ã     |
| äººç‹¼   | äººç‹¼ | è¥²æ’ƒ | å¤œã«1äººã‚’è¥²æ’ƒã—ã¦æ®ºå®³           |
| ç‹‚äºº   | äººç‹¼ | ãªã— | äººç‹¼ã®å‘³æ–¹ã ãŒèƒ½åŠ›ã¯ãªã„        |
| å…±é³´è€… | æ‘äºº | ãªã— | ä»–ã®å…±é³´è€…ã¨äº’ã„ã‚’èªè­˜          |
| ç‹     | ç‹   | ç‰¹æ®Š | ç‹¬è‡ªã®å‹åˆ©æ¡ä»¶ã‚’æŒã¤            |

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   MongoDB       â”‚
â”‚   (React + Vite)â”‚â—„â”€â”€â–ºâ”‚   (Node.js +    â”‚â—„â”€â”€â–ºâ”‚   (Database)    â”‚
â”‚   Port: 4173    â”‚    â”‚    Express)     â”‚    â”‚   Port: 27017   â”‚
â”‚                 â”‚    â”‚   Port: 3000    â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Nginx         â”‚
                    â”‚   (Reverse      â”‚
                    â”‚    Proxy)       â”‚
                    â”‚   Port: 80/443  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Node.js 18ä»¥ä¸Š
- Docker & Docker Compose
- MongoDBï¼ˆDockerã§è‡ªå‹•èµ·å‹•ï¼‰

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone <repository-url>
cd werewolf_app
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
# ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
cp deploy/env.example deploy/.env

# ç’°å¢ƒå¤‰æ•°ã‚’ç·¨é›†
nano deploy/.env
```

### 3. Docker Composeã§èµ·å‹•

```bash
# ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
docker-compose -f deploy/docker-compose.werewolf.yml up -d --build

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose -f deploy/docker-compose.werewolf.yml logs -f
```

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: http://localhost
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API: http://localhost/api

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º

```bash
cd backend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
npm test

# ãƒ“ãƒ«ãƒ‰
npm run build
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º

```bash
cd frontend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm start

# ãƒ“ãƒ«ãƒ‰
npm run build
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
werewolf_app/
â”œâ”€â”€ backend/                 # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Node.js + TypeScript)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ classes/        # ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”œâ”€â”€ config/         # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ controllers/    # APIã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ middleware/     # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ models/         # MongoDBãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ routes/         # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ socketHandlers/ # WebSocketãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â””â”€â”€ utils/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ __tests__/          # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/               # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/          # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ hooks/          # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ context/        # React Context
â”‚   â”‚   â””â”€â”€ reducers/       # çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ deploy/                 # ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
â”‚   â”œâ”€â”€ docker-compose.werewolf.yml
â”‚   â”œâ”€â”€ env.example
â”‚   â””â”€â”€ README.werewolf.md
â”œâ”€â”€ mongodb/                # MongoDBè¨­å®š
â”œâ”€â”€ nginx/                  # Nginxè¨­å®š
â””â”€â”€ README.md
```

## ğŸ”§ ä¸»è¦æ©Ÿèƒ½

### èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

- JWTèªè¨¼
- ãƒ¡ãƒ¼ãƒ«èªè¨¼
- ã‚²ã‚¹ãƒˆãƒ­ã‚°ã‚¤ãƒ³
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ

### ãƒãƒ£ãƒ³ãƒãƒ«æ©Ÿèƒ½

- ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆãƒ»ç®¡ç†
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·
- ã‚²ã‚¹ãƒˆå…¥å®¤åˆ¶é™
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆ

### ã‚²ãƒ¼ãƒ æ©Ÿèƒ½

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚²ãƒ¼ãƒ é€²è¡Œ
- è¤‡æ•°å½¹è·å¯¾å¿œ
- æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ 
- å¤œã®è¡Œå‹•ï¼ˆå ã„ã€è¥²æ’ƒã€è­·è¡›ï¼‰
- ã‚²ãƒ¼ãƒ çµæœç®¡ç†

### ç®¡ç†æ©Ÿèƒ½

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- ãƒ–ãƒ­ãƒƒã‚¯æ©Ÿèƒ½
- è¦³æˆ¦æ©Ÿèƒ½
- æŠ•ç¥¨å±¥æ­´

## ğŸŒ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### èªè¨¼

- `POST /api/user/register` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `POST /api/user/login` - ãƒ­ã‚°ã‚¤ãƒ³
- `POST /api/user/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

### ãƒãƒ£ãƒ³ãƒãƒ«

- `GET /api/channel` - ãƒãƒ£ãƒ³ãƒãƒ«ä¸€è¦§
- `POST /api/channel` - ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ
- `POST /api/channel/:id/join` - ãƒãƒ£ãƒ³ãƒãƒ«å…¥å®¤

### ã‚²ãƒ¼ãƒ 

- `POST /api/game/start` - ã‚²ãƒ¼ãƒ é–‹å§‹
- `POST /api/game/:id/vote` - æŠ•ç¥¨
- `GET /api/game/:id/status` - ã‚²ãƒ¼ãƒ çŠ¶æ…‹

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

- `GET /api/message/:channelId` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
- `POST /api/message` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡

## ğŸ”’ ç’°å¢ƒå¤‰æ•°

### å¿…é ˆè¨­å®š

```bash
# MongoDB
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=your_secure_password
MONGO_APP_USERNAME=werewolf_user
MONGO_APP_PASSWORD=your_secure_password

# JWT
JWT_SECRET=your_very_long_jwt_secret_key

# Email (ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”¨)
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_email_app_password

# Server
SERVER_URL=https://your-domain.com
CORS_ORIGIN=https://your-domain.com
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š

```bash
# AWS S3 (ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
S3_BUCKET_NAME=your_bucket_name

# SSL/Let's Encrypt
DOMAIN_NAME=your-domain.com
CERTBOT_EMAIL=your-email@domain.com
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
cd backend
npm test
npm run test:coverage
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
cd frontend
npm test
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Docker Compose ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# æœ¬ç•ªç’°å¢ƒç”¨
docker-compose -f deploy/docker-compose.werewolf.yml up -d --build

# SSLè¨¼æ˜æ›¸ã®è¨­å®š
cd nginx
./ssl-setup.sh setup
```

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend
npm run build
pm2 start dist/app.js --name werewolf-backend

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
cd frontend
npm run build:production
# ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Webã‚µãƒ¼ãƒãƒ¼ã«é…ç½®
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### MongoDBæ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# MongoDBã®çŠ¶æ…‹ç¢ºèª
docker-compose -f deploy/docker-compose.werewolf.yml exec mongodb mongosh --eval "db.adminCommand('ping')"
```

#### WebSocketæ¥ç¶šã‚¨ãƒ©ãƒ¼

- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª
- CORSè¨­å®šã‚’ç¢ºèª
- SSLè¨¼æ˜æ›¸ã®æœ‰åŠ¹æ€§ã‚’ç¢ºèª

#### ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚¨ãƒ©ãƒ¼

- Gmailã®ã‚¢ãƒ—ãƒªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚’ç¢ºèª
- ç’°å¢ƒå¤‰æ•°ã®è¨­å®šã‚’ç¢ºèª

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ ISC ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€GitHubã®Issuesãƒšãƒ¼ã‚¸ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚

## ğŸ”„ æ›´æ–°å±¥æ­´

- **v1.0.0** - åˆæœŸãƒªãƒªãƒ¼ã‚¹
  - åŸºæœ¬çš„ãªäººç‹¼ã‚²ãƒ¼ãƒ æ©Ÿèƒ½
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆ
  - è¤‡æ•°å½¹è·å¯¾å¿œ
  - Dockerç’°å¢ƒå¯¾å¿œ

---

**æ³¨æ„**: ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ•™è‚²ãƒ»å¨¯æ¥½ç›®çš„ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚æœ¬æ ¼çš„ãªå•†ç”¨åˆ©ç”¨ã®å ´åˆã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è¿½åŠ æ¤œè¨¼ãŒå¿…è¦ã§ã™ã€‚
